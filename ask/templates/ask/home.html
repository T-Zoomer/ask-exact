<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exact Online - Profit Loss Overview</title>

</head>
<body>
    <header>
        <h2>Ask Exact</h2>
        <nav>
            <a href="{% url 'ask:home' %}">Home</a> | 
            <a href="{% url 'exact_oauth:status' %}">OAuth Status</a> | 
            <a href="{% url 'exact_oauth:authorize' %}">Authorize</a> | 
            <a href="{% url 'exact_oauth:test_api' %}">Test API</a> | 
            <a href="{% url 'exact_oauth:refresh_token' %}">Refresh Token</a> | 
            <a href="{% url 'exact_oauth:revoke' %}">Revoke Token</a> | 
            <a href="/admin/">Admin</a>
        </nav>
        <hr>
    </header>
    
    <div class="container">
        <h1>Exact Online Profit Loss Overview</h1>
        
        <div class="form-section">
            <h3>Query Parameters</h3>
            <form method="GET" action="{% url 'ask:home' %}">
                <div class="form-row">
                    <div class="form-group">
                        <label for="currentYear">Current Year:</label>
                        <input type="number" id="currentYear" name="current_year" placeholder="e.g. 2024">
                    </div>
                    <div class="form-group">
                        <label for="currentPeriod">Current Period:</label>
                        <input type="number" id="currentPeriod" name="current_period" placeholder="e.g. 12">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="previousYear">Previous Year:</label>
                        <input type="number" id="previousYear" name="previous_year" placeholder="e.g. 2023">
                    </div>
                    <div class="form-group">
                        <label for="previousYearPeriod">Previous Year Period:</label>
                        <input type="number" id="previousYearPeriod" name="previous_year_period" placeholder="e.g. 12">
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="currencyCode">Currency Code:</label>
                    <input type="text" id="currencyCode" name="currency_code" placeholder="e.g. EUR" maxlength="3">
                </div>
                
                <button type="submit" id="submitBtn">Get Profit Loss Overview</button>
            </form>
        </div>

        <div class="results-section">
            {% if error %}
                <div class="error">{{ error }}</div>
            {% endif %}
            
            {% if profit_loss_data %}
                <div id="results">
                    <h3>Results</h3>
                    <div class="json-display">{{ profit_loss_data }}</div>
                </div>
            {% endif %}
        </div>
    </div>

</body>
</html>